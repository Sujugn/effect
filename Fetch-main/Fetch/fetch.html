<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>


        <script>
            /*
        fetch('students.json')
        .then(response => response.json())
        .then(students => {
            let output = ''
            students.forEach((student) => {
                output += `
                <h2>${student.name}</h2>
                <ul>
                    <li>전공 : ${student.major}</li>
                    <li>학년 : ${student.grade}</li>
                </ul>
                `
            })
            document.getElementById('root').innerHTML = output
        })
        .catch(err => console.log(err))
        */


        /*

        function order(){
            let menu = 'coffee'
            return new Promise((resolve,reject)=> resolve(menu))
        }

        function display(result){
            return new Promise((resolve,reject) => resolve(`Thank you, ${result}`))
        }

        order()
        .then(display)
        .then(console.log)
        */








/*
        //async: function앞에서만 쓸수있는 예약어
        //async function    : promise를 반환한다
                            :내부 명령을 비동기적으로 실행
        //await  : then과 동일, async안에서만 사용 가능
                            
        async function order(){
            let menu = 'coffee'
            return menu
        }

        async function display(result){
            return `Thank you, ${result}`
        }

        order()
        .then(display)
        .then(console.log)

        */



        /*
        async function order(){
            let menu = 'coffee'
            return menu
        }

        async function display(result){
            return `Thank you, ${result}`
        }

        async function init(){
            const response = await order()
            const result = await display(response)
            console.log(result)
        }

        init()
        */


        /*
        fetch('student.json')
        .then(response => response.json())
        .then(student => console.log(students))
        */


        async function init(){
            const response = await fetch('students.json')
            const student = await response.json()
            console.log(students)
        }

        init()

    </script>

    <style>

        table{
            width: 300px;
        }

        table, td, th {
            border: 1px solid #ccc;
        }

        th{
            width: 80px;
        }








    </style>




</head>
<body>

    <div id="root"></div>
    <script>
        async function init(){
            const response = await fetch('https://jsonplaceholder.typicode.com/users')
            const users = await response.json()
            display(users)
        }

        function display(users){
            const root = document.getElementById('root')
            let output = ''
            users.forEach((user) => {
                output += `
                <table>
                <tr><th>이름</th><td>${user.name}</td></tr>  
                <tr><th>아이디</th><td>${user.username}</td></tr>  
                <tr><th>이메일</th><td>${user.email}</td></tr>  
                </table>
                `
            })
            root.innerHTML = output
        }

        init()















    </script>
    
</body>
</html>